<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hk.distribution.dao.JinhuoDao">

    <resultMap type="com.hk.distribution.model.Jinhuo" id="jinhuoResult">
        <id property="jinhuo_id" column="jinhuo_id"/>
        <result property="danhao_id" column="danhao_id"/>
        <result property="jinhuoriqi" column="jinhuoriqi"/>
        <result property="kuanhao_id" column="kuanhao_id"/>
        <result property="yanse" column="yanse"/>
        <result property="chima" column="chima"/>
        <result property="shuliang" column="shuliang"/>
        <result property="jinjia" column="jinjia"/>
        <result property="chengbenjia" column="chengbenjia"/>
        <result property="shoujia" column="shoujia"/>
        <result property="zhuangtai" column="zhuangtai"/>
        <result property="beizhu" column="beizhu"/>
    </resultMap>

    <select id="getJinhuoList" resultMap="jinhuoResult">
        select jinhuo_id, danhao_id, jinhuoriqi, kuanhao_id,yanse, chima,shuliang,jinjia,chengbenjia,shoujia,zhuangtai,beizhu from jinhuo_table
    </select>
    
    <select id="getJinhuo" resultMap="jinhuoResult" parameterType="com.hk.distribution.model.Jinhuo">
        select jinhuo_id, danhao_id, jinhuoriqi, kuanhao_id,yanse, chima,shuliang,jinjia,chengbenjia,shoujia,zhuangtai,beizhu from jinhuo_table where jinhuo_id = #{jinhuo_id}
    </select>
    
    <update id="updateJinhuoruku" parameterType="com.hk.distribution.model.Jinhuo">
        update jinhuo_table set zhuangtai = '1' where jinhuo_id = #{jinhuo_id}
    </update>
    
    <update id="updateJinhuo" parameterType="com.hk.distribution.model.Jinhuo">
        update jinhuo_table set zhuangtai = '1' where jinhuo_id = #{jinhuo_id}
    </update>
    
    <insert id="saveJinhuo" parameterType="com.hk.distribution.model.Jinhuo">
        insert into jinhuo_table values (#{jinhuo_id}, #{danhao_id}, #{jinhuoriqi}, #{kuanhao_id}, #{yanse}, #{chima}, #{shuliang}, #{jinjia}, #{chengbenjia}, #{shoujia},#{zhuangtai}, #{beizhu})
    </insert>
    <select id="getMaxID" resultMap="jinhuoResult">
    	select max(jinhuo_id) jinhuo_id from jinhuo_table
    </select>
</mapper>